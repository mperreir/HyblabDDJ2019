<!DOCTYPE html>
<html lang="fr"> <!-- Notre page est en français -->
    <head>
    <!-- Il est obligatoire de préciser un encodage de caractères et un titre pour la page -->
        <meta charset="utf-8">
        <title>Hyblab 2018</title>
		<!-- Basic viewport setting for mobile friendly page -->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Déclaration de la feuille de style du document-->
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
		<!-- Those polyfills are required so that old browsers support fetch mecanism -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.0.5/es6-promise.min.js" defer ></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.1/fetch.min.js" defer></script>
		<!-- Simple sample script that loads data from a dummy json file -->
		<script src="js/example.js" defer></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script type="text/javascript" src="js/jquery.easing.1.3.js"></script>
        <link href="./css/jqvmap.css" rel="stylesheet">
        <script src="./js/jquery.vmap.js"></script>
        <script src="./js/jquery.vmap.france.js"></script>
        <script src="./js/jquery.vmap.colorsFrance.js"></script>
    </head>
    <body>
    <!-- Ce conteneur est la seule balise div que l'on s'autorise pour effectuer la mise en page du site -->    
    <!-- On pourrait bien sûr en ajouter d'autres pour se faciliter la mise en page -->
    <!-- Mais on va s'efforce de respecter et brouiller le moins possible la structure logique du contenu -->
        <div class="section" id="section1">
            <h2 class="text-center">Pays de la loire</h2>
            <h3 class="text-center-under">une industrie dynamique </br> soutenue par la région</h3>
        </div>
        <div class="section" id="section2">
            <div class="container">
                <div class="col-6">
                    <h3 class="sec2Text1">Soutenir l’industrie c’est soutenir l’emploi!</h3>
                    <div id="bubble">
                        <!-- le texte qui apparaitra dans la bulle -->
                        <span id="text">
                        En 2017, les Pays de la Loire affichent le taux de chômage le plus bas ex-aequo avec la Bretagne avec 7,6%. Ce chiffre indique sans conteste la bonne santé économique de notre région. 
                        </span>
                        <!-- 2 spans qui nous serviront à créer la flèche pointant vers notre personnage -->
                        <span id="arrow_border"></span>
                        <span id="arrow_inner"></span>
                    </div>
                </div>
                <div class="col-6">
                    <div id="francemap" class="map_index" style="width: 600px; height: 400px;"></div>
                </div>
            </div>
        </div>
        <div class="section" id="section3">
            <div class="container">
                <div class="col-6">
                    <h3 class="sec2Text1">Soutenir l’industrie c’est soutenir l’emploi!</h3>
                    <div id="bubble">
                        <!-- le texte qui apparaitra dans la bulle -->
                        <span id="text">
                        En 2017, les Pays de la Loire affichent le taux de chômage le plus bas ex-aequo avec la Bretagne avec 7,6%. Ce chiffre indique sans conteste la bonne santé économique de notre région. 
                        </span>
                        <!-- 2 spans qui nous serviront à créer la flèche pointant vers notre personnage -->
                        <span id="arrow_border"></span>
                        <span id="arrow_inner"></span>
                    </div>
                </div>
                <div class="col-6">
                    <div id="francemap2" class="map_index" style="width: 600px; height: 400px;"></div>
                </div>
            </div>
        </div>
        <div class="section" id="section4">
            <h2>Section 4</h2>
            <p>
                ‘He scents thy footsteps in the snow
                Wheresoever thou dost go,
                Thro’ the wintry hail and rain.
                When wilt thou return again?

            </p>
        </div>
        <div class="section" id="section5">
            <h2>Section 5</h2>
            <p>
                ‘He scents thy footsteps in the snow
                Wheresoever thou dost go,
                Thro’ the wintry hail and rain.
                When wilt thou return again?

            </p>
        </div>
        <div class="section" id="section6">
            <h2>Section 6</h2>
            <p>
                ‘He scents thy footsteps in the snow
                Wheresoever thou dost go,
                Thro’ the wintry hail and rain.
                When wilt thou return again?

            </p>
        </div>
        <div class="section" id="section7">
            <h2>Section 7</h2>
            <p>
                ‘He scents thy footsteps in the snow
                Wheresoever thou dost go,
                Thro’ the wintry hail and rain.
                When wilt thou return again?

            </p>
        </div>
        <div class="section" id="section8">
            <h2>Section 8</h2>
            <p>
                ‘He scents thy footsteps in the snow
                Wheresoever thou dost go,
                Thro’ the wintry hail and rain.
                When wilt thou return again?

            </p>
        </div>
        <div class="container">
            <nav>
                <a href="#section1" class="active"></a>
                <a href="#section2"></a>
                <a href="#section3"></a>
                <a href="#section4"></a>
                <a href="#section5"></a>
                <a href="#section6"></a>
                <a href="#section7"></a>
                <a href="#section8"></a>
                <div class="line"></div>
            </nav>
        </div>
  </body>

  <script type="text/javascript">
        $(function() {
            $('nav a').bind('click',function(event){
                var $anchor = $(this);
                $('html, body').stop().animate({
                    scrollLeft: $($anchor.attr('href')).offset().left
                }, 1000);
                event.preventDefault();
            });
        });
        $(document).ready(function() {
            var array = ["Picardie","Haute-Normandie","Basse-Normandie","Ile de France","Bretagne","Champagne Ardenne","Alsace","Pays de la Loire","Centre","Bourgogne","Rhône Alpe","Aquitaine","Provence Alpe Cote d'Azur","Corse","Midi-Pyrenne","Languedoc Roussillon","Lorraine","Poitou Charente","Limousin","Auvergne","Nord Pas de Calais","Franche Comté"];
            $('#francemap').vectorMap({
                map: 'france_fr',
                hoverOpacity: 0.5,
                hoverColor: false,
                backgroundColor: "#ffffff",
                colors: couleurs,
                borderColor: "#000000",
                selectedColor: "#FFDA00",
                enableZoom: false,
                showTooltip: true,
                onRegionClick:function(event, code){            
                    var name = array[code-1];                        
                    console.log(name);

                    if(code == 8){
                        $("nav a:nth-child(-n+"+3+")").click();
                    }
                },
            });
            $('#francemap2').vectorMap({
                map: 'france_fr',
                hoverOpacity: 0.5,
                hoverColor: false,
                backgroundColor: "#ffffff",
                colors: couleurs,
                borderColor: "#000000",
                selectedColor: "#FFDA00",
                enableZoom: false,
                showTooltip: true,
                onRegionClick:function(event, code){            
                    var name = array[code-1];                        
                    console.log(name);

                    if(code == 8){
                        $("nav a:nth-child(-n+"+3+")").click();
                    }
                },
            });

            $('path#jqvmap2_8').click();
            $("a").click(function() {
                $("a").removeClass('active');
                var index = $(this).index('nav a') + 1;
                console.log(index);
                $("nav a:nth-child(-n+"+index+")").addClass('active');
                index-=1;
                $("nav a:nth-child(-n+"+index+")").attr("onclick","return false;");
                $("nav a:nth-child(-n+"+index+")").removeClass('active');
            }); 
        });

        $(window).load(function() {
          $(".container").addClass("load");
        });
  </script>
</html>
